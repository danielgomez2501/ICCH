#Varibles
#:set tam_fuente 21

#Colores
#:set colora (66/255, 214/255, 173/255, 1)
#:set colorb (89/255, 89/255, 89/255, 1)
#:set colorc (42/255, 164/255, 201/255, 1)
#:set colord (36/255, 134/255, 224/255, 1)
#:set colore (34/255, 83/255, 214/255, 1)
#:set rosso (229/255,35/225,35/255,1)

<Configuracion>
	# name: "configuracion"
	BoxLayout:
		orientation: "vertical"
		size: root.width, root.height

		# márgenes contra el limite de la ventana
		padding: 10
		# distancia entre los objetos
		spacing: 20

		GridLayout:
			cols: 2
			rows: 2
			spacing: 10
			padding: 10

			Label:
				text: "Sujeto:"
				size_hint: (0.6, 0.5)
				# Propiedades del texto
				color: colord
				font_size: tam_fuente
				bold: True
				text_size: self.size
				halign: 'right'
    			valign: 'middle'

			Spinner:
				id: sujeto_sel
				text: "Selecione el sujeto"
				halign: 'center'
    			valign: 'middle'
    			background_normal: ''
				background_color: colorb

				#values: root.lista
				on_text: root.seleccion_sujeto(sujeto_sel.text)


			Label:
				text: "Proceso:"
				size_hint: (0.6, 0.5)
				color: colord
				font_size: tam_fuente
				bold: True
				text_size: self.size
				halign: 'right'
    			valign: 'middle'


			Spinner:
				id: proceso
				text: "Selecione el\nproceso a realizar"
				halign: 'center'
    			valign: 'middle'
    			background_normal: ''
				background_color: colorb

				values: ["Entrenar", "Cargar datos"]
				on_text: root.seleccion_proceso(proceso.text)


		BoxLayout:
			orientation: "horizontal"
			size_hint: 1, 0.3
			spacing: root.width / 15

			Button:
				text: "..."
				# disposición del botón
				size_hint: 0.3, 1
				background_normal: ''
				font_size: tam_fuente*2
				background_color: colorb

				# El comando al botón de ejecutar
				on_release: root.ajustar()

			Button:
				text: "Ejecutar"
				# disposición del botón
				size_hint: 1, 1
				background_normal: ''
				background_color: colore

				# El comando al botón de ejecutar
				on_release: root.ejecutar()


<Ajustes>
	# name: "ajustes"
	# define ids para poder cambiar los textos
	BoxLayout:
		orientation: "vertical"
		size: root.width, root.height
		
		GridLayout:
			# size_hint: 1, 0.7
			cols: 2
			rows: 11
			# 1
			Label:
				text: "Dirección dataset:"
				color: colore
				halign: 'right'
				valign: 'middle'
			TextInput:
				id: directorio
				text: "Dataset"
				multiline: False
			# 2
			Label:
				text: "Nombres canales EEG:"
				color: colore
				halign: 'right'
				valign: 'middle'
			TextInput:
				id: nombres_eeg
				text: 'FP1, F7, F3, Fz, T7, C3, Cz, P7, P3, Pz, FP2, F4, F8, C4, T8, P4, P8, O1, Oz, O2'
				multiline: False
			# 3
			Label:
				text: "Nombres canales EMG:"
				color: colore
				halign: 'right'
				valign: 'middle'
			TextInput:
				id: nombres_emg
				text: 'EMG_1, EMG_2, EMG_3, EMG_4, EMG_5, EMG_6'
				multiline: False
			# 4
			Label:
				text: "Nombres clases:"
				color: colore
				halign: 'right'
				valign: 'middle'
			TextInput:
				id: nombres_clases
				text: 'Click izq., Click der., Izquierda, Derecha, Arriba, Abajo, Reposo'
				multiline: False
			# 5
			Label:
				text: "Tamaño de ventanas (ms):"
				color: colore
				halign: 'right'
				valign: 'middle'
			TextInput:
				id: tam_ventana
				text: '300'
				input_filter: 'int'
				multiline: False
			# 6
			Label:
				text: "Salto entre ventanas (ms):"
				color: colore
				halign: 'right'
				valign: 'middle'
			TextInput:
				id: salto_ventana
				text: '60'
				input_filter: 'int'
				multiline: False
			# 7
			Label:
				text: "Factor m EEG:"
				color: colore
				halign: 'right'
				valign: 'middle'
			TextInput:
				id: m_eeg
				text: '10'
				input_filter: 'int'
				multiline: False
			# 8
			Label:
				text: "Factor m EMG:"
				color: colore
				halign: 'right'
				valign: 'middle'
			TextInput:
				id: m_emg
				text: '2'
				input_filter: 'int'
				multiline: False

			# 9
			Label:
				text: "IC en EEG:"
				color: colore
				halign: 'right'
				valign: 'middle'
			TextInput:
				id: ic_eeg
				text: '0'
				input_filter: 'int'
				multiline: False
			# 10
			Label:
				text: "IC en EMG:"
				color: colore
				halign: 'right'
				valign: 'middle'
			TextInput:
				id: ic_emg
				text: '0'
				input_filter: 'int'
				multiline: False
			# 11
			Label:
				text: "Número de epocas:"
				color: colore
				halign: 'right'
				valign: 'middle'
			TextInput:
				id: epocas
				text: '1024'
				input_filter: 'int'
				multiline: False

		BoxLayout:
			orientation: "horizontal"
			size_hint: 1, 0.3
			padding: 10
			spacing: root.width / 15

			Button:
				text: "Cancelar"
				# disposición del botón
				size_hint: 0.3, 1
				background_normal: ''
				background_color: rosso

				on_release: root.cancelar()

			Button:
				text: "Aceptar"
				# disposición del botón
				size_hint: 0.3, 1
				#pos_hint: {'rigth': 0.9}
				background_normal: ''
				background_color: colore

				on_release: root.aceptar()


<Monitor>
	# name: "monitor"
	BoxLayout:
		orientation: "vertical"
		size: root.width, root.height
		padding: 10

		BoxLayout:
			orientation: "vertical"
			#size: root.width, root.height
			# ajustar el tamaño de los comando leídos
			#size_hint: 1, .8

			GridLayout:
				cols:2
				size_hint: 1, 0.3

				Image:
					id: click_izq
					source: "Iconos/Cl_izq_off.png"
				Image:
					id: click_der
					source: "Iconos/Cl_der_off.png"

			GridLayout:
				cols: 3
				rows: 3
				size_hint: 0.55, 0.55
				pos_hint: {'center_x': 0.5}

				Label:
					# En blanco
				Image:
					id: arriba
					source: "Iconos/Fl_arr_off.png"
				Label:
					# En blanco

				Image:
					id: izq
					source: "Iconos/Fl_izq_off.png"
					pos_hint: {'right': 0}
				Image:
					id: centro
					source: "Iconos/Centro_off.png"
				Image:
					id: der
					source: "Iconos/Fl_der_off.png"
					pos_hint: {'left': 0}

				Label:
					# En blanco
				Image:
					id: abajo
					source: "Iconos/Fl_aba_off.png"
				Label:
					# En blanco

		Button:
			text: "Parar"
			# forma
			size_hint: 0.3, 0.15
			pos_hint: {'right': 1}
			background_normal: ''
			background_color: rosso
			# texto
			bold: True
			font_size: tam_fuente
			text_size: self.size
			halign: 'center'
    		valign: 'middle'

			on_release: root.parar()


<Resumen>
	# name: "resumen"

	Scatter:
		id: scat
		size: root.width*0.81, root.height*0.65
		pos: root.width/2-self.width*0.45, root.height*0.3
		scale: 1
		scale_max: 2

		do_rotation: False
		on_transform_with_touch: root.interaccion()
		auto_bring_to_front: False

		Image:
			id: cm
			size: root.width*0.81, root.height*0.65
			# source: "Parametros/Sujeto_2/000/General/CM_Combinada.png"

	FloatLayout:
		#orientation: "vertical"
		size: root.width, root.height

		# Rectángulos blancos para esconder el sobre dimensionamiento del scatter
		Label:
			id: texto_sujeto
			text: "Sujeto: "
			size_hint: 1, 0.1
			pos_hint: {"top": 1}
			color: colord
			font_size: tam_fuente

			# cambiar el color del fondo
			# oculta el scatter cuando se hace aumento
			canvas.before:
				Color:
					rgba: (1,1,1,1)
				Rectangle:
					size: self.size
					pos: self.pos

		Label:
			id: precision
			text: "Precisión general: "
			size_hint: 1, 0.1
			pos_hint: {"top": 0.3}
			color: colord
			font_size: tam_fuente

			canvas.before:
				Color:
					rgba: (1,1,1,1)
				Rectangle:
					size: self.width, root.height*0.3
					#pos: 0,0

		BoxLayout:
			orientation: "horizontal"
			padding: 10
			spacing: root.width / 15

			Button:
				text: "volver a inicio"
				# disposición del botón
				size_hint: 0.3, 0.15
				background_normal: ''
				background_color: colore

				on_release: root.volver()

			Button:
				text: "iniciar"
				# disposición del botón
				size_hint: 0.3, 0.15
				#pos_hint: {'rigth': 0.9}
				background_normal: ''
				background_color: colore

				on_release: root.iniciar()


<Progreso>
	# name: "progreso"
	BoxLayout:
		orientation: "vertical"
		size: root.width, root.height
		spacing: 20
		padding: 10

		GridLayout:
			rows:3
			Label:
				id: tipo_proceso
				text: "Seleccione"
				#size_hint: (1, 0.4)
				color: colord
				font_size: tam_fuente
				text_size: self.size
				halign: 'center'
	    		valign: 'center'

			Label:
				id: descripcion_progreso
				text: "Progreso 0%"
				#size_hint: (1, 0.4)
				color: colord
				font_size: tam_fuente
				text_size: self.size
				halign: 'center'
	    		valign: 'bottom'

			ProgressBar:
				id: barra_progreso
				# valores por defecto
				min: 0
				max: 1
				value: 0
				# sobre posición y dimensiones
				pos_hint: {'center_y': 1}
				size_hint_x: 0.8


		Button:
			text: "Cancelar"
			# forma
			size_hint: 0.4, 0.15
			pos_hint: {'left': 1}
			background_normal: ''
			background_color: rosso
			# texto
			bold: True
			font_size: tam_fuente
			text_size: self.size
			halign: 'center'
    		valign: 'middle'

			on_release: root.cancelar()
